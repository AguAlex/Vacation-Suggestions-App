{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Documents\\\\GitHub\\\\Vacation-Suggestions-App\\\\frontend\\\\src\\\\components\\\\LikeButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LikeButton = ({\n  accomodationId,\n  onLikeChange\n}) => {\n  _s();\n  var _JSON$parse;\n  const userId = (_JSON$parse = JSON.parse(localStorage.getItem(\"user\"))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.id;\n  const [liked, setLiked] = useState(false);\n  useEffect(() => {\n    const checkLiked = async () => {\n      const res = await fetch(`http://localhost:3000/accomodations/${accomodationId}/liked/${userId}`);\n      const data = await res.json();\n      setLiked(data.liked);\n    };\n    checkLiked();\n  }, [accomodationId, userId]);\n  const handleLike = async () => {\n    const method = liked ? 'DELETE' : 'POST';\n    const url = liked ? `http://localhost:3000/accomodations/${accomodationId}/unlike/${userId}` : `http://localhost:3000/accomodations/${accomodationId}/like/${userId}`;\n    await fetch(url, {\n      method\n    });\n    setLiked(!liked);\n    onLikeChange(); // notifică Hotels să reîncarce\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `mt-6 w-8 h-8 rounded-full text-sm  font-medium transition\n        ${liked ? \"bg-red-200 text-red-800 hover:bg-red-300\" : \"bg-gray-100 text-gray-800 hover:bg-pink-100\"}\n      `,\n    onClick: handleLike,\n    children: liked ? /*#__PURE__*/_jsxDEV(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      fill: \"#dc2626\",\n      viewBox: \"0 0 24 24\",\n      strokeWidth: 1.5,\n      stroke: \"#dc2626\",\n      className: \"w-6 h-6\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M21 8.25c0-2.623-2.052-4.75-4.583-4.75-1.538 0-2.897.784-3.667 1.981C12.48 4.284 11.122 3.5 9.583 3.5 7.052 3.5 5 5.627 5 8.25c0 4.775 7 9.75 7 9.75s7-4.975 7-9.75z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      strokeWidth: 1.5,\n      stroke: \"currentColor\",\n      className: \"w-6 h-6 text-gray-500\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M21 8.25c0-2.623-2.052-4.75-4.583-4.75-1.538 0-2.897.784-3.667 1.981C12.48 4.284 11.122 3.5 9.583 3.5 7.052 3.5 5 5.627 5 8.25c0 4.775 7 9.75 7 9.75s7-4.975 7-9.75z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(LikeButton, \"XVwEQrglgvKg4vWDDJzGSUieNRY=\");\n_c = LikeButton;\nexport default LikeButton;\nvar _c;\n$RefreshReg$(_c, \"LikeButton\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","LikeButton","accomodationId","onLikeChange","_s","_JSON$parse","userId","JSON","parse","localStorage","getItem","id","liked","setLiked","checkLiked","res","fetch","data","json","handleLike","method","url","className","onClick","children","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Documents/GitHub/Vacation-Suggestions-App/frontend/src/components/LikeButton.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst LikeButton = ({ accomodationId, onLikeChange }) => {\r\n  const userId = JSON.parse(localStorage.getItem(\"user\"))?.id;\r\n  const [liked, setLiked] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkLiked = async () => {\r\n      const res = await fetch(`http://localhost:3000/accomodations/${accomodationId}/liked/${userId}`);\r\n      const data = await res.json();\r\n      setLiked(data.liked);\r\n    };\r\n    checkLiked();\r\n  }, [accomodationId, userId]);\r\n\r\n  const handleLike = async () => {\r\n    const method = liked ? 'DELETE' : 'POST';\r\n    const url = liked\r\n      ? `http://localhost:3000/accomodations/${accomodationId}/unlike/${userId}`\r\n      : `http://localhost:3000/accomodations/${accomodationId}/like/${userId}`;\r\n\r\n    await fetch(url, { method });\r\n    setLiked(!liked);\r\n    onLikeChange(); // notifică Hotels să reîncarce\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`mt-6 w-8 h-8 rounded-full text-sm  font-medium transition\r\n        ${liked\r\n          ? \"bg-red-200 text-red-800 hover:bg-red-300\"\r\n          : \"bg-gray-100 text-gray-800 hover:bg-pink-100\"}\r\n      `}\r\n      onClick={handleLike}\r\n    >\r\n      {liked ? (\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"#dc2626\"\r\n          viewBox=\"0 0 24 24\"\r\n          strokeWidth={1.5}\r\n          stroke=\"#dc2626\"\r\n          className=\"w-6 h-6\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M21 8.25c0-2.623-2.052-4.75-4.583-4.75-1.538 0-2.897.784-3.667 1.981C12.48 4.284 11.122 3.5 9.583 3.5 7.052 3.5 5 5.627 5 8.25c0 4.775 7 9.75 7 9.75s7-4.975 7-9.75z\"\r\n          />\r\n        </svg>\r\n      ) : (\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          strokeWidth={1.5}\r\n          stroke=\"currentColor\"\r\n          className=\"w-6 h-6 text-gray-500\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M21 8.25c0-2.623-2.052-4.75-4.583-4.75-1.538 0-2.897.784-3.667 1.981C12.48 4.284 11.122 3.5 9.583 3.5 7.052 3.5 5 5.627 5 8.25c0 4.775 7 9.75 7 9.75s7-4.975 7-9.75z\"\r\n          />\r\n        </svg>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,UAAU,GAAGA,CAAC;EAAEC,cAAc;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,WAAA;EACvD,MAAMC,MAAM,IAAAD,WAAA,GAAGE,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,cAAAL,WAAA,uBAAxCA,WAAA,CAA0CM,EAAE;EAC3D,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAEzCD,SAAS,CAAC,MAAM;IACd,MAAMiB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,uCAAuCd,cAAc,UAAUI,MAAM,EAAE,CAAC;MAChG,MAAMW,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC7BL,QAAQ,CAACI,IAAI,CAACL,KAAK,CAAC;IACtB,CAAC;IACDE,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACZ,cAAc,EAAEI,MAAM,CAAC,CAAC;EAE5B,MAAMa,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,MAAM,GAAGR,KAAK,GAAG,QAAQ,GAAG,MAAM;IACxC,MAAMS,GAAG,GAAGT,KAAK,GACb,uCAAuCV,cAAc,WAAWI,MAAM,EAAE,GACxE,uCAAuCJ,cAAc,SAASI,MAAM,EAAE;IAE1E,MAAMU,KAAK,CAACK,GAAG,EAAE;MAAED;IAAO,CAAC,CAAC;IAC5BP,QAAQ,CAAC,CAACD,KAAK,CAAC;IAChBT,YAAY,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC;EAED,oBACEH,OAAA;IACEsB,SAAS,EAAE;AACjB,UAAUV,KAAK,GACH,0CAA0C,GAC1C,6CAA6C;AACzD,OAAQ;IACFW,OAAO,EAAEJ,UAAW;IAAAK,QAAA,EAEnBZ,KAAK,gBACJZ,OAAA;MACEyB,KAAK,EAAC,4BAA4B;MAClCC,IAAI,EAAC,SAAS;MACdC,OAAO,EAAC,WAAW;MACnBC,WAAW,EAAE,GAAI;MACjBC,MAAM,EAAC,SAAS;MAChBP,SAAS,EAAC,SAAS;MAAAE,QAAA,eAEnBxB,OAAA;QACE8B,aAAa,EAAC,OAAO;QACrBC,cAAc,EAAC,OAAO;QACtBC,CAAC,EAAC;MAAsK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,gBAENpC,OAAA;MACEyB,KAAK,EAAC,4BAA4B;MAClCC,IAAI,EAAC,MAAM;MACXC,OAAO,EAAC,WAAW;MACnBC,WAAW,EAAE,GAAI;MACjBC,MAAM,EAAC,cAAc;MACrBP,SAAS,EAAC,uBAAuB;MAAAE,QAAA,eAEjCxB,OAAA;QACE8B,aAAa,EAAC,OAAO;QACrBC,cAAc,EAAC,OAAO;QACtBC,CAAC,EAAC;MAAsK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAEb,CAAC;AAAChC,EAAA,CAlEIH,UAAU;AAAAoC,EAAA,GAAVpC,UAAU;AAoEhB,eAAeA,UAAU;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}