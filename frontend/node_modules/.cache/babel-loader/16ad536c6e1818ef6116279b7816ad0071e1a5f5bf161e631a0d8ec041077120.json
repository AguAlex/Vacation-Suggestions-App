{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Documents\\\\GitHub\\\\Vacation-Suggestions-App\\\\frontend\\\\src\\\\components\\\\LikeButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport './LikeButton.css'; // dacƒÉ vrei fi»ôier separat pentru stiluri\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LikeButton = ({\n  accomodationId,\n  onLikeChange\n}) => {\n  _s();\n  var _JSON$parse;\n  const userId = (_JSON$parse = JSON.parse(localStorage.getItem(\"user\"))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.id;\n  const [liked, setLiked] = useState(false);\n  useEffect(() => {\n    const checkLiked = async () => {\n      const res = await fetch(`http://localhost:3000/accomodations/${accomodationId}/liked/${userId}`);\n      const data = await res.json();\n      setLiked(data.liked);\n    };\n    checkLiked();\n  }, [accomodationId, userId]);\n  const handleLike = async () => {\n    const method = liked ? 'DELETE' : 'POST';\n    const url = liked ? `http://localhost:3000/accomodations/${accomodationId}/unlike/${userId}` : `http://localhost:3000/accomodations/${accomodationId}/like/${userId}`;\n    await fetch(url, {\n      method\n    });\n    setLiked(!liked);\n    onLikeChange(); // notificƒÉ Hotels sƒÉ re√Æncarce\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `like-button ${liked ? 'liked' : ''}`,\n    onClick: handleLike,\n    children: liked ? 'üíî Unlike' : '‚ù§Ô∏è Like'\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(LikeButton, \"XVwEQrglgvKg4vWDDJzGSUieNRY=\");\n_c = LikeButton;\nexport default LikeButton;\nvar _c;\n$RefreshReg$(_c, \"LikeButton\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","LikeButton","accomodationId","onLikeChange","_s","_JSON$parse","userId","JSON","parse","localStorage","getItem","id","liked","setLiked","checkLiked","res","fetch","data","json","handleLike","method","url","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Documents/GitHub/Vacation-Suggestions-App/frontend/src/components/LikeButton.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport './LikeButton.css'; // dacƒÉ vrei fi»ôier separat pentru stiluri\r\n\r\nconst LikeButton = ({ accomodationId, onLikeChange }) => {\r\n  const userId = JSON.parse(localStorage.getItem(\"user\"))?.id;\r\n  const [liked, setLiked] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkLiked = async () => {\r\n      const res = await fetch(`http://localhost:3000/accomodations/${accomodationId}/liked/${userId}`);\r\n      const data = await res.json();\r\n      setLiked(data.liked);\r\n    };\r\n    checkLiked();\r\n  }, [accomodationId, userId]);\r\n\r\n  const handleLike = async () => {\r\n    const method = liked ? 'DELETE' : 'POST';\r\n    const url = liked\r\n      ? `http://localhost:3000/accomodations/${accomodationId}/unlike/${userId}`\r\n      : `http://localhost:3000/accomodations/${accomodationId}/like/${userId}`;\r\n\r\n    await fetch(url, { method });\r\n    setLiked(!liked);\r\n    onLikeChange(); // notificƒÉ Hotels sƒÉ re√Æncarce\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`like-button ${liked ? 'liked' : ''}`}\r\n      onClick={handleLike}\r\n    >\r\n      {liked ? 'üíî Unlike' : '‚ù§Ô∏è Like'}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LikeButton;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,kBAAkB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,UAAU,GAAGA,CAAC;EAAEC,cAAc;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,WAAA;EACvD,MAAMC,MAAM,IAAAD,WAAA,GAAGE,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,cAAAL,WAAA,uBAAxCA,WAAA,CAA0CM,EAAE;EAC3D,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAEzCD,SAAS,CAAC,MAAM;IACd,MAAMiB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,uCAAuCd,cAAc,UAAUI,MAAM,EAAE,CAAC;MAChG,MAAMW,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;MAC7BL,QAAQ,CAACI,IAAI,CAACL,KAAK,CAAC;IACtB,CAAC;IACDE,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACZ,cAAc,EAAEI,MAAM,CAAC,CAAC;EAE5B,MAAMa,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,MAAM,GAAGR,KAAK,GAAG,QAAQ,GAAG,MAAM;IACxC,MAAMS,GAAG,GAAGT,KAAK,GACb,uCAAuCV,cAAc,WAAWI,MAAM,EAAE,GACxE,uCAAuCJ,cAAc,SAASI,MAAM,EAAE;IAE1E,MAAMU,KAAK,CAACK,GAAG,EAAE;MAAED;IAAO,CAAC,CAAC;IAC5BP,QAAQ,CAAC,CAACD,KAAK,CAAC;IAChBT,YAAY,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC;EAED,oBACEH,OAAA;IACEsB,SAAS,EAAE,eAAeV,KAAK,GAAG,OAAO,GAAG,EAAE,EAAG;IACjDW,OAAO,EAAEJ,UAAW;IAAAK,QAAA,EAEnBZ,KAAK,GAAG,WAAW,GAAG;EAAS;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1B,CAAC;AAEb,CAAC;AAACxB,EAAA,CAhCIH,UAAU;AAAA4B,EAAA,GAAV5B,UAAU;AAkChB,eAAeA,UAAU;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}